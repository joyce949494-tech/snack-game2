<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>åœ–æ›¸é¤¨é—–é—œä¸»é </title>

<style>

body{
    margin:0;
    font-family:"Microsoft JhengHei";
    background:#f6f8fb;
    text-align:center;
}

/* æ¨™é¡Œ */
h1{
    margin-top:25px;
    font-size:34px;
}

/* å¾½ç« è¨ˆæ•¸æ¡† */
#badgeBox{
    position:fixed;
    top:20px;
    right:20px;
    background:white;
    padding:14px 25px;
    border-radius:15px;
    font-size:22px;
    box-shadow:0 0 12px rgba(0,0,0,0.15);
}

/* éŠæˆ²å¡æ’åˆ— */
.container{
    width:80%;
    margin:60px auto;
    display:grid;
    grid-template-columns:repeat(3, 1fr);
    gap:50px;
}

/* å–®å€‹éŠæˆ²å¡æ¡† */
.gameCard{
    background:white;
    padding:25px;
    border-radius:15px;
    box-shadow:0 0 12px rgba(0,0,0,0.1);
}

/* å‰ç¥¥ç‰©åœ–ç‰‡ + èªªæ˜åœ–ç‰‡ */
.iconButton{
    width:140px;
    height:140px;
    background:#dde9ff;
    display:flex;
    justify-content:center;
    align-items:center;
    margin:0 auto;
    margin-bottom:15px;
    cursor:pointer;
    border-radius:20px;
    font-size:22px;
    transition:0.15s;
}

.iconButton:hover{
    transform:scale(1.05);
}

/* è¦å‰‡æŒ‰éˆ• */
.rule{
    margin-top:8px;
    padding:10px;
    width:120px;
    margin:0 auto;
    background:#fff7d1;
    border-radius:12px;
    cursor:pointer;
    font-size:18px;
}

.lock{
    opacity:0.4;
    pointer-events:none;
}

</style>
</head>

<body>

<h1>ğŸ“š åœ–æ›¸é¤¨ä»»å‹™é—–é—œå…¥å£</h1>

<div id="badgeBox">
    â­ çç« ï¼š<span id="badgeCount">0</span> / 6
</div>

<div class="container" id="gameArea"></div>

<script>

// å…­å€‹éŠæˆ²ç¶²å€
const gameURL = [
 "https://joyce949494-tech.github.io/snack-game2/computer.html",
 "https://joyce949494-tech.github.io/snack-game2/borrow.html",
 "https://joyce949494-tech.github.io/snack-game2/findbook.html",
 "https://joyce949494-tech.github.io/snack-game2/index.html",
 "https://joyce949494-tech.github.io/snack-game2/student.html",
 "https://joyce949494-tech.github.io/snack-game2/seat.html"
];

// è®€å–é€²åº¦ç´€éŒ„
let record = JSON.parse(localStorage.getItem("libraryGameRecord")) || [0,0,0,0,0,0];

function refreshBadge(){
    let total = record.filter(x=>x===1).length;
    document.getElementById("badgeCount").innerText = total;
}

refreshBadge();


function createCard(index){

    let card = document.createElement("div");
    card.className = "gameCard";

    // å¦‚æœå·²å®Œæˆ â†’ é–ä½
    if(record[index] === 1){
        card.classList.add("lock");
    }

    // å‰ç¥¥ç‰©æŒ‰éˆ•
    let icon = document.createElement("div");
    icon.className = "iconButton";
    icon.innerText = "å‰ç¥¥ç‰©";

    icon.onclick = ()=> openGame(index);

    // èªªæ˜æŒ‰éˆ•
    let intro = document.createElement("div");
    intro.className = "iconButton";
    intro.innerText = "èªªæ˜åœ–";
    intro.onclick = ()=> openGame(index);

    // è¦å‰‡æŒ‰éˆ•
    let rule = document.createElement("div");
    rule.className = "rule";
    rule.innerText = "ä½¿ç”¨è¦å‰‡";
    rule.onclick = ()=>{
        window.open(gameURL[index]);
    };

    card.appendChild(icon);
    card.appendChild(intro);
    card.appendChild(rule);

    return card;
}


function openGame(i){

    let go = confirm("éŠæˆ²å°‡åœ¨æ–°é ç°½é–‹å•Ÿï¼Œå®Œæˆå¾Œè«‹å›åˆ°æœ¬é ã€‚æŒ‰ç¢ºå®šé–‹å§‹éŠæˆ²ï¼");

    if(!go) return;

    window.open(gameURL[i]);

    setTimeout(()=>{
        let done = confirm("ä½ å®ŒæˆéŠæˆ²äº†å—ï¼ŸæŒ‰ç¢ºå®šå³å¯ç²å¾—å¾½ç« ã€‚");
        if(done){
            record[i] = 1;
            localStorage.setItem("libraryGameRecord", JSON.stringify(record));
            refreshBadge();
            location.reload();
        }
    }, 1500);
}


function init(){
    let wrap = document.getElementById("gameArea");

    for(let i=0;i<6;i++){
        wrap.appendChild(createCard(i));
    }
}

init();

</script>

</body>
</html>
