æˆ‘ç¾åœ¨é€šé—œå¾Œï¼Œé‚„æ˜¯æ²’æœ‰è®“çç« è®Šè‰²
<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>è‡ºç§‘å¤§åœ–æ›¸é¤¨é—–é—œç¸½æŒ‘æˆ°</title>

<style>
body{
  font-family:"Microsoft JhengHei",sans-serif;
  background:#f4f6fb;
  margin:0;
  padding:20px;
  text-align:center;
}

/* ===== çç«  ===== */
#medalRow{
  display:flex;
  justify-content:center;
  gap:12px;
  margin:20px 0;
}

.medal{width:48px;}
.medal img{width:100%;}

.medal.flash{
  animation:pop .6s ease;
}
@keyframes pop{
  50%{transform:scale(1.4);filter:drop-shadow(0 0 10px gold);}
}

/* ===== å¡ç‰‡ ===== */
.gameGrid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(260px,1fr));
  gap:20px;
  max-width:900px;
  margin:auto;
}

.gameCard{
  background:white;
  border-radius:20px;
  padding:20px;
  box-shadow:0 0 12px rgba(0,0,0,.15);
}

.gameCard img{
  width:120px;
  margin-bottom:10px;
}

button{
  width:100%;
  margin:6px 0;
  padding:10px;
  border:none;
  border-radius:10px;
  font-size:16px;
  cursor:pointer;
}
.play{background:#4caf50;color:white;}
.rule{background:#2196f3;color:white;}

/* ===== è¦å‰‡å½ˆçª— ===== */
#ruleMask{
  display:none;
  position:fixed;
  inset:0;
  background:rgba(0,0,0,.5);
}

#ruleBox{
  background:white;
  max-width:420px;
  margin:15% auto;
  padding:20px;
  border-radius:15px;
}

/* ===== é€šé—œç•«é¢ ===== */
#clearBox{
  display:none;
}
</style>
</head>

<body>

<h1>ğŸ“š è‡ºç§‘å¤§åœ–æ›¸é¤¨é—–é—œä»»å‹™</h1>
<p>ä»¥ä¸‹æ˜¯å…­å€‹æœ‰é—œè‡ºç§‘å¤§åœ–æ›¸é¤¨çš„å°éŠæˆ²ï¼Œé–±è®€ä¸€ä¸‹ä½¿ç”¨è¦å‰‡å¾Œä¾†æŒ‘æˆ°çœ‹çœ‹!</p>
<p>å®Œæˆä¸€é—œå°±å¯ä»¥é»äº®ä¸€å€‹çç« </p>


<div id="medalRow">
  <div class="medal"><img id="m0"></div>
  <div class="medal"><img id="m1"></div>
  <div class="medal"><img id="m2"></div>
  <div class="medal"><img id="m3"></div>
  <div class="medal"><img id="m4"></div>
  <div class="medal"><img id="m5"></div>
</div>

<!-- ===== éŠæˆ²å€ ===== -->
<div id="gameArea" class="gameGrid"></div>

<!-- ===== é€šé—œç•«é¢ ===== -->
<div id="clearBox">
  <h2>ğŸ‰ æ­å–œå®Œæˆæ‰€æœ‰æŒ‘æˆ°ï¼</h2>
  <img src="https://i.imgur.com/3JMiwED.png" width="220">
  <p>ä½ å·²æˆç‚ºåœ–æ›¸é¤¨ä½¿ç”¨é”äººï¼</p>
</div>

<!-- ===== è¦å‰‡å½ˆçª— ===== -->
<div id="ruleMask" onclick="closeRule()">
  <div id="ruleBox" onclick="event.stopPropagation()">
    <h3 id="ruleTitle"></h3>
    <p id="ruleText"></p>
    <button onclick="closeRule()">é—œé–‰</button>
  </div>
</div>

<script>
/* ===== åœ–ç‰‡ ===== */
const medalGray="https://i.imgur.com/cM9iiRF.png";
const medalGold="https://i.imgur.com/3JMiwED.png";

/* ===== éŠæˆ²è³‡æ–™ ===== */
const games = [
{
  title:"è³‡è¨Šå…±äº«å€",
  img:"https://i.imgur.com/7qLJt7R.png",
  rule: [
    "ä½¿ç”¨å‰éœ€å…ˆåœ¨å…¥å£æ©Ÿå°ç™»è¨˜",
    "æ¯æ¬¡ä½¿ç”¨æ™‚é–“ç‚º 2 å°æ™‚",
    "ç¦æ­¢é£²é£Ÿã€ç©éŠæˆ²",
    "ç¦æ­¢ç€è¦½è‰²æƒ…æˆ–ä¾µæ¬Šå…§å®¹"
  ],
  linkText:"æŸ¥çœ‹å®Œæ•´ä½¿ç”¨è¦å®š",
  linkUrl:"https://sms.lib.ntust.edu.tw/#/rules/2c9b806a81cd5fed0181cd62acda0004",
  link:"computer.html"
},

{
  title:"è‡ªå‹•å€Ÿæ›¸æ©Ÿ",
  img:"https://i.imgur.com/kDckafT.png",
  rule: [
    "å…ˆæ„Ÿæ‡‰å­¸ç”Ÿè­‰æˆ–æ•™è·å“¡è­‰",
    "æ›¸æœ¬æ›¸èƒŒæœä¸‹æ”¾å…¥å‡¹æ§½",
    "å®Œæˆå€Ÿé–±å¾Œå†å–æ›¸"
  ],
  linkText:"å€Ÿé–±å†Šæ•¸èˆ‡æœŸé™èªªæ˜",
  linkUrl:"https://library.ntust.edu.tw/p/412-1049-3506.php?Lang=zh-tw",
  link:"borrow.html"
},

{
  title:"é¤¨è—æœå°‹",
  img:"https://i.imgur.com/ncE5mhA.png",
  rule: [
    "é»é¸ã€Œé–‹å•Ÿé¤¨è—æŸ¥è©¢ã€",
    "ä½¿ç”¨æ›¸åæˆ–ä½œè€…æŸ¥è©¢",
    "æ‰¾å‡ºæ­£ç¢ºæ¨“å±¤"
  ],
  link:"findbook.html"
},

{
  title:"è¼•é£Ÿå€",
  img:"https://i.imgur.com/ydlKP3v.png",
  rule: [
    "åƒ…å¯æ”œå¸¶é™„è“‹é£²æ–™",
    "å¯æ”œå¸¶éºµåŒ…ã€ä¸‰æ˜æ²»ã€é›¶é£Ÿ",
    "ç¦æ­¢å…¶ä»–æ°£å‘³æ˜é¡¯é£Ÿç‰©"
  ],
  linkText:"æŸ¥çœ‹è¼•é£Ÿå€å®Œæ•´è¦å®š",
  linkUrl:"https://library.ntust.edu.tw/p/412-1049-6766.php?Lang=zh-tw",
  link:"index.html"
},

{
  title:"è¨è«–å°é–“",
  img:"https://i.imgur.com/mfEGIKi.png",
  rule: [
    "3 äººä»¥ä¸Šæ‰å¯ç”³è«‹",
    "æ¯é–“æœ€å¤š 6 äºº",
    "æœ€å¤šä½¿ç”¨ 2 å°æ™‚",
    "10 åˆ†é˜å…§éœ€å®Œæˆå ±åˆ°"
  ],
  linkText:"æŸ¥çœ‹è¨è«–å®¤å€Ÿç”¨ç´°å‰‡",
  linkUrl:"https://library.ntust.edu.tw/p/412-1049-6684.php?Lang=zh-tw",
  link:"student.html"
},

{
  title:"å‰æ£Ÿ 3F é–±è¦½å¸­",
  img:"https://i.imgur.com/1Kj827y.png",
  rule: [
    "ä½¿ç”¨å‰éœ€è‡³æ©Ÿå°ç™»è¨˜",
    "é ç‰†èˆ‡ç­†é›»å€è¨­æœ‰æ’åº§",
    "é›¢é¤¨è¶…é 2 å°æ™‚åº§ä½æœƒå–æ¶ˆ"
  ],
  linkText:"æŸ¥çœ‹é–±è¦½å¸­å®Œæ•´è¦å®š",
  linkUrl:"https://sms.lib.ntust.edu.tw/#/rules/2c9b806a81cd5fed0181cd64f3510010",
  link:"seat.html"
}
];


/* ===== åˆå§‹åŒ– ===== */
if(!sessionStorage.medalList){
 sessionStorage.medalList = JSON.stringify([false,false,false,false,false,false]);
}

const list = JSON.parse(sessionStorage.medalList);

/* ===== çç«  ===== */
list.forEach((v,i)=>{
 document.getElementById("m"+i).src=v?medalGold:medalGray;
});

/* ===== å…¨é€šé—œ ===== */
if(list.every(v=>v)){
 document.getElementById("gameArea").style.display="none";
 document.getElementById("clearBox").style.display="block";
}

/* ===== å»ºç«‹å¡ç‰‡ ===== */
const area=document.getElementById("gameArea");
games.forEach((g,i)=>{
 const c=document.createElement("div");
 c.className="gameCard";
 c.innerHTML=`
 <img src="${g.img}">
 <h3>${g.title}</h3>
 <button class="play" onclick="goGame(${i})">é€²å…¥éŠæˆ²</button>
 <button class="rule"
 onclick="openRule(
   '${g.title}',
   ${JSON.stringify(g.rule)},
   '${g.linkText || ""}',
   '${g.linkUrl || ""}'
 )">
 ä½¿ç”¨è¦å‰‡
</button>

 `;
 area.appendChild(c);
});

function goGame(i){
 location.href=games[i].link;
}

/* ===== è¦å‰‡ ===== */
function openRule(title, rules, linkText, linkUrl){
  document.getElementById("ruleTitle").innerText = title + " ä½¿ç”¨è¦å‰‡";

  let html = "<ul style='text-align:left; line-height:1.6;'>";
  rules.forEach(r=>{
    html += `<li>${r}</li>`;
  });
  html += "</ul>";

  if(linkUrl){
    html += `
      <p style="margin-top:12px;">
        ğŸ”— <a href="${linkUrl}" target="_blank">${linkText}</a>
      </p>`;
  }

  document.getElementById("ruleText").innerHTML = html;
  document.getElementById("ruleMask").style.display = "block";
}

function closeRule(){
 document.getElementById("ruleMask").style.display="none";
}
</script>

</body>
</html>
