<!DOCTYPE html>
<html lang="zh-TW">
<head>
<meta charset="UTF-8">
<title>å…­å¤§å­¸ç¿’éŠæˆ²å¹³å°</title>

<style>
body {
    margin: 0;
    font-family: Arial, sans-serif;
    display: flex;
    height: 100vh;
    background: #f6f6f6;
}

/* å·¦å€å¡Šï¼šéŠæˆ²åˆ—è¡¨ */
#left {
    width: 65%;
    display: flex;
    flex-wrap: wrap;
    padding: 30px;
    gap: 25px;
    justify-content: center;
    align-content: center;
}

/* éŠæˆ²æŒ‰éˆ• */
.gameBtn {
    width: 280px;
    height: 120px;
    background: white;
    border-radius: 18px;
    border: 3px solid #444;
    cursor: pointer;
    font-size: 28px;
    font-weight: bold;
    display: flex;
    justify-content: center;
    align-items: center;
    transition: .2s;
}
.gameBtn:hover{
    transform: scale(1.05);
}

/* ç¦ç”¨æŒ‰éˆ• */
.disabled{
    opacity: 0.4;
    pointer-events: none;
}

/* å³æ¬„ï¼šçç«  */
#right {
    width: 35%;
    background: #eaeaea;
    padding: 30px;
    display: flex;
    flex-direction: column;
    align-items: center;
}

#medalTitle{
    font-size: 46px;
    font-weight: bold;
    margin-top: 15px;
}

#medalArea{
    margin-top: 40px;
    width: 80%;
    display: grid;
    grid-template-columns: repeat(3, 95px);
    grid-gap: 25px;
    justify-content: center;
}

.medalSlot{
    width: 95px;
    height: 95px;
    border-radius: 100px;
    background: #c1c1c1;
    border: 5px solid #6e6e6e;
}

/* å·²ç²å¾—çç«  */
.hasMedal{
    background: gold !important;
}
</style>

</head>
<body>

<div id="left">

    <div class="gameBtn" id="g1">éŠæˆ²1</div>
    <div class="gameBtn" id="g2">éŠæˆ²2</div>
    <div class="gameBtn" id="g3">éŠæˆ²3</div>
    <div class="gameBtn" id="g4">éŠæˆ²4</div>
    <div class="gameBtn" id="g5">éŠæˆ²5</div>
    <div class="gameBtn" id="g6">éŠæˆ²6</div>

</div>


<div id="right">
    <div id="medalTitle">ğŸ…çç« </div>

    <div id="medalArea">
        <div class="medalSlot" id="m1"></div>
        <div class="medalSlot" id="m2"></div>
        <div class="medalSlot" id="m3"></div>
        <div class="medalSlot" id="m4"></div>
        <div class="medalSlot" id="m5"></div>
        <div class="medalSlot" id="m6"></div>
    </div>
</div>



<script>

// 6å€‹éŠæˆ²ç¶²å€
const gameLinks = [
"https://joyce949494-tech.github.io/snack-game2/computer.html",
"https://joyce949494-tech.github.io/snack-game2/borrow.html",
"https://joyce949494-tech.github.io/snack-game2/findbook.html",
"https://joyce949494-tech.github.io/snack-game2/index.html",
"https://joyce949494-tech.github.io/snack-game2/student.html",
"https://joyce949494-tech.github.io/snack-game2/seat.html"
];

// è®€è³‡æ–™
let played = JSON.parse(localStorage.getItem("playedGames") || "[]");

// é¡¯ç¤ºå¾½ç« 
updateMedals();

// è¨­å®šæŒ‰éˆ•äº‹ä»¶
for(let i=1;i<=6;i++){
    let btn = document.querySelector("#g"+i);

    ////// å·²ç©é â†’ æŒ‰éˆ•é—œæ‰
    if(played.includes(i)){
        btn.classList.add("disabled");
    }

    ////// æ²’ç©é â†’ é»å°±ç›´æ¥è·³éŠæˆ²
    else{
        btn.addEventListener("click", function(){
            localStorage.setItem("currentPlay", i);
            location.href = gameLinks[i-1];
        });
    }
}


// å›é é¢å¾Œè‡ªå‹•æ”¶é›†çç« 
(function checkFinish(){
    let id = Number(localStorage.getItem("currentPlay"));
    if(id && !played.includes(id)){
        played.push(id);
        localStorage.setItem("playedGames", JSON.stringify(played));
        updateMedals();
    }
    localStorage.removeItem("currentPlay");
})();


// æ›´æ–°ç•«é¢å¾½ç«  + é–æŒ‰éˆ•
function updateMedals(){
    played.forEach(num=>{
        document.querySelector("#m"+num).classList.add("hasMedal");
        document.querySelector("#g"+num).classList.add("disabled");
    });
}

</script>

</body>
</html>
