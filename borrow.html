<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>自動借書流程挑戰</title>

<style>
body {
  font-family: "Microsoft JhengHei", sans-serif;
  background: #e6f2ff;
  text-align: center;
  padding: 20px;
}

#machine {
  width: 360px;
  margin: auto;
  background: white;
  border-radius: 20px;
  padding: 15px;
  box-shadow: 0 0 15px rgba(0,0,0,0.3);
}

/* ===== 上方區塊：螢幕 + 刷卡區 ===== */
#topArea {
  display: flex;
  align-items: center;
  justify-content: space-between;
}

/* ✅ 螢幕 */
#machineScreen {
  width: 220px;
  border-radius: 12px;
  border: 3px solid #ccc;
}

/* ✅ 刷卡區（在右側） */
#cardArea {
  width: 110px;
  height: 160px;
  margin-left: 10px;
  border-radius: 12px;
  border: 3px dashed #999;
  display: flex;
  align-items: center;
  justify-content: center;
  background: #f7f7f7;
}

#cardArea img {
  width: 100%;
  border-radius: 10px;
}

/* ===== 借書區（下方） ===== */
#bookArea {
  margin-top: 15px;
  border: 3px dashed #999;
  border-radius: 12px;
  padding: 10px;
}

#bookArea img {
  width: 90%;
  border-radius: 12px;
}

/* ✅ 拖曳物品 */
.item {
  width: 90px;
  margin: 10px;
  cursor: grab;
}
</style>
</head>

<body>

<h2>借還書流程挑戰</h2>

<div id="machine">

  <!-- ✅ 上方：螢幕 + 刷卡區 -->
  <div id="topArea">

    <!-- ✅ 螢幕（會換圖） -->
    <img id="machineScreen"
         src="https://i.imgur.com/ZgmJJDB.png">

    <!-- ✅ 刷卡區（實際照片） -->
    <div id="cardArea">
      <img src="https://i.imgur.com/C6TOz7M.jpeg">
    </div>

  </div>

  <!-- ✅ 下方：借書區（實際照片） -->
  <div id="bookArea">
    <img src="https://i.imgur.com/LtJL7i9.jpeg">
  </div>

  <!-- ✅ 可拖曳物件 -->
  <div>
    <img id="card" class="item" draggable="true"
         src="https://i.imgur.com/2576otq.png">
    <p>學生證</p>

    <img id="book" class="item" draggable="true"
         src="https://i.imgur.com/3NN0HWR.jpeg">
    <p>書本</p>
  </div>

</div>

<script>
let cardOK = false;

const card = document.getElementById("card");
const book = document.getElementById("book");

const cardArea = document.getElementById("cardArea");
const bookArea = document.getElementById("bookArea");

const machineScreen = document.getElementById("machineScreen");

/* ========= 拖學生證 ========= */
card.addEventListener("dragstart", function(e) {
  e.dataTransfer.setData("type", "card");
});

/* 允許刷卡區放置 */
cardArea.addEventListener("dragover", function(e) {
  e.preventDefault();
});

/* 放入刷卡區 → 換螢幕圖片 */
cardArea.addEventListener("drop", function(e) {
  e.preventDefault();
  cardOK = true;

  // ✅ 換成「刷卡成功畫面」
  machineScreen.src = "https://i.imgur.com/CZ8digf.png";
});

/* ========= 拖書 ========= */
book.addEventListener("dragstart", function(e) {
  e.dataTransfer.setData("type", "book");
});

/* 允許借書區放置 */
bookArea.addEventListener("dragover", function(e) {
  e.preventDefault();
});

/* 放入借書區 → 如果已刷卡就成功 */
bookArea.addEventListener("drop", function(e) {
  e.preventDefault();

  if (cardOK) {
    // ✅ 換成「借書完成畫面」
    machineScreen.src = "https://i.imgur.com/nhyLpmL.png";
  }
});
</script>

</body>
</html>
