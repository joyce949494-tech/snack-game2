<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="utf-8" />
<title>è¨è«–å®¤æ«ƒå°ä»»å‹™ â€” ä¸»ç•«é¢</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<style>
  :root{
    --card-bg:#ffffff; --page-bg:#eef5ff;
    --accent:#1976d2; --accent-2:#7b1fa2; --ok:#28a745;
  }
  body{font-family:"Microsoft JhengHei",sans-serif;background:var(--page-bg);margin:0;padding:24px;color:#222}
  .wrap{max-width:1100px;margin:0 auto;background:var(--card-bg);border-radius:14px;padding:18px 22px;box-shadow:0 10px 30px rgba(0,0,0,0.08)}
  h1{margin:0 0 10px;font-size:22px}
  p.lead{margin:0 0 18px;color:#444}
  .students-grid{display:flex;gap:16px;flex-wrap:wrap;justify-content:center;padding:8px}
  .student{
    width:170px; text-align:center; background:#fff; border-radius:12px; padding:12px; box-shadow:0 6px 18px rgba(0,0,0,0.06);
    position:relative; cursor:pointer; transition:transform .14s;
  }
  .student:hover{transform:translateY(-6px)}
  .student img{width:120px;height:120px;object-fit:cover;border-radius:50%;border:4px solid #f3f7ff}
  .student .name{margin-top:8px;font-weight:600}
  .student .bubble{position:absolute;left:12px;top:8px;background:var(--accent);color:#fff;padding:6px 10px;border-radius:10px;font-size:13px}
  .controls{display:flex;gap:10px;justify-content:center;margin-top:18px}
  .btn{padding:10px 14px;border-radius:10px;border:none;cursor:pointer;font-weight:600}
  .btn.reset{background:#f57c00;color:#fff}
  .btn.clear{background:#9e9e9e;color:#fff}
  .hint{margin-top:12px;color:#666;text-align:center}
  .empty{color:#999;font-size:15px;padding:26px}
  /* æ¶ˆå¤±æ•ˆæœ */
  .hidden{display:none !important}
</style>
</head>
<body>
  <div class="wrap">
    <h1>è¨è«–å®¤æ«ƒå°ä»»å‹™</h1>
    <p class="lead">ä½ æ˜¯æ«ƒæª¯äººå“¡ â€” 5 ä½åŒå­¸æœƒä¾†è©¢å•å•é¡Œï¼Œé»ä¸€ä½å­¸ç”Ÿè™•ç†ä»–çš„éœ€æ±‚ã€‚ç­”å°ä¹‹å¾Œè©²å­¸ç”Ÿæœƒå¾ç•«é¢æ¶ˆå¤±ã€‚</p>

    <div id="students" class="students-grid"></div>

    <div class="controls">
      <button class="btn reset" id="resetBtn">ğŸ” é‡ç½®é€²åº¦</button>
      <button class="btn clear" id="goToLib">ğŸ” é–‹å•Ÿé¤¨è—æŸ¥è©¢ï¼ˆæ–°åˆ†é ï¼‰</button>
    </div>

    <p class="hint">æç¤ºï¼šé»å…¶ä¸­ä¸€å€‹å­¸ç”Ÿå³å¯é–‹å§‹è™•ç†ä»–çš„å•é¡Œã€‚</p>
  </div>

<script>
/*
  äº”ä½å­¸ç”Ÿå›ºå®šé¡Œå‹å°æ‡‰ï¼š
  student1: äººæ•¸åˆ¤æ–·é¡Œï¼ˆäººæ•¸éš¨æ©Ÿ 1â€“7ï¼Œæ¯æ¬¡é»é¸è©²é¡Œæœƒé‡æ–°éš¨æ©Ÿï¼‰
  student2: æ™‚æ®µåˆ¤æ–·é¡Œï¼ˆä½¿ç”¨è€…æª¢è¦–ä½ ä¸Šå‚³çš„é ç´„ç¾æ³æˆªåœ–ï¼Œç¯„ä¾‹æ­¤è™•ä½¿ç”¨å ä½åœ–ï¼‰
  student3: å­¸ç”Ÿè­‰é¡Œï¼ˆå¿˜å¸¶å­¸ç”Ÿè­‰èƒ½å€Ÿï¼Ÿï¼‰
  student4: é²åˆ°é¡Œï¼ˆé ç´„ 10:00â€“12:00ï¼Œ10:30 æ‰åˆ°èƒ½ç”¨ï¼Ÿï¼‰
  student5: é£²æ–™é¡Œï¼ˆèƒ½å¦å¸¶é£²æ–™å…¥è¨è«–å®¤ï¼Ÿï¼‰
*/

const studentsData = [
  { id: 'student1', name:'å°è¯', img:'https://i.imgur.com/1qfQ7ZC.png' },
  { id: 'student2', name:'å°ç¾', img:'https://i.imgur.com/8Km9tLL.png' },
  { id: 'student3', name:'å°å¼·', img:'https://i.imgur.com/Am1hY2K.png' },
  { id: 'student4', name:'å°å›', img:'https://i.imgur.com/3G2QZ4k.png' },
  { id: 'student5', name:'å°æ½”', img:'https://i.imgur.com/oCkEbrA.png' }
];

// localStorage key
const STORE_KEY = 'discuss_solved_students';

function readSolved(){ try{ return JSON.parse(localStorage.getItem(STORE_KEY)) || []; }catch(e){return [];} }
function saveSolved(arr){ localStorage.setItem(STORE_KEY, JSON.stringify(arr)); }

const container = document.getElementById('students');

function renderStudents(){
  container.innerHTML = '';
  const solved = readSolved();

  // if all solved show message
  if(solved.length >= studentsData.length){
    container.innerHTML = '<div class="empty">ğŸ‰ å…¨éƒ¨å­¸ç”Ÿçš„å•é¡Œéƒ½è™•ç†å®Œäº†ï¼</div>';
    return;
  }

  studentsData.forEach(s => {
    if(solved.includes(s.id)) return; // skip solved

    const el = document.createElement('div');
    el.className = 'student';
    el.innerHTML = `
      <div class="bubble">è©¢å•</div>
      <img src="${s.img}" alt="${s.name}">
      <div class="name">${s.name}</div>
      <div style="font-size:13px;color:#666;margin-top:6px">é»æˆ‘è™•ç†å•é¡Œ</div>
    `;
    el.onclick = () => startQuestion(s.id);
    container.appendChild(el);
  });
}

function startQuestion(studentId){
  // å°åˆ° question.htmlï¼Œä¸¦æŠŠ studentId å’Œï¼ˆè‹¥éœ€è¦ï¼‰éš¨æ©Ÿäººæ•¸æ”¾åˆ° localStorage æˆ– query string
  // æˆ‘ç”¨ query string æ›´ç›´è§€
  // äººæ•¸é¡Œæœƒåœ¨ question.html æ¯æ¬¡ç”Ÿæˆéš¨æ©Ÿæ•¸
  window.location.href = `question.html?student=${studentId}`;
}

document.getElementById('resetBtn').onclick = function(){
  if(confirm('ç¢ºèªè¦é‡ç½®é€²åº¦ï¼Ÿæ‰€æœ‰å·²è§£æ±ºçš„å­¸ç”Ÿæœƒé‡æ–°å‡ºç¾ã€‚')){
    localStorage.removeItem(STORE_KEY);
    renderStudents();
  }
};

document.getElementById('goToLib').onclick = function(){
  window.open('https://sierra.lib.ntust.edu.tw/*cht','_blank');
};

renderStudents();
</script>
</body>
</html>
