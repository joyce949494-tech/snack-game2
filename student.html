<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8">
<title>è¨è«–å®¤ä»»å‹™æŒ‘æˆ°</title>

<style>
body {
  font-family: "Microsoft JhengHei", sans-serif;
  background: #f0f6ff;
  margin: 0;
  padding: 0;
  text-align: center;
}

/* ä¸»å®¹å™¨ */
.container {
  width: 90%;
  margin: auto;
  padding-top: 20px;
}

/* NPC å€ï¼šä½¿ç”¨ random æ’åˆ— */
.npc-area {
  display: flex;
  flex-wrap: wrap;
  justify-content: center;
  gap: 25px;
  margin-top: 20px;
}

/* å€‹åˆ¥ NPC åœ–ç¤º */
.npc {
  width: 120px;
  cursor: pointer;
  transition: 0.2s;
}

.npc:hover {
  transform: scale(1.08);
}

/* é¡Œç›®è·³å‡ºè¦–çª— */
.question-box {
  width: 90%;
  max-width: 600px;
  margin: auto;
  background: white;
  padding: 25px;
  border-radius: 16px;
  box-shadow: 0 0 15px rgba(0,0,0,0.2);
  display: none;
}

.choice-btn {
  background: #4a89e8;
  color: white;
  border: none;
  padding: 12px 22px;
  border-radius: 10px;
  margin: 10px;
  font-size: 17px;
  cursor: pointer;
}

.choice-btn:hover {
  background: #3569c9;
}

/* é ç´„è¡¨ï¼ˆåªåœ¨ç¬¬2é¡Œæœƒå‡ºç¾ï¼‰ */
.schedule-img {
  width: 90%;
  max-width: 400px;
  border-radius: 10px;
  margin: 15px auto;
  display: none;
}
</style>
</head>

<body>

<div class="container">
  <h2>ğŸ“š è¨è«–å®¤è«®è©¢ä¸­å¿ƒ</h2>
  <p>è«‹é»æ“Šä»»ä¸€ä½å­¸ç”Ÿï¼Œå¹«åŠ©ä»–å€‘è§£æ±ºå•é¡Œï¼</p>

  <!-- NPC å€ï¼ˆJS æœƒéš¨æ©Ÿæ’åºï¼‰ -->
  <div id="npcArea" class="npc-area"></div>
</div>

<!-- é¡Œç›®ç›’å­ -->
<div id="questionBox" class="question-box">
  <h3 id="qTitle"></h3>
  <p id="qDesc"></p>

  <!-- å°ˆå±¬ç¬¬ 2 é¡Œçš„é ç´„è¡¨ -->
  <img id="scheduleImg" class="schedule-img"
       src="https://i.imgur.com/6G8H3wQ.jpeg">

  <div id="choices"></div>
</div>

<script>
// ---------- 1ï¸âƒ£ é¡Œåº«è¨­å®š ----------
const questions = [
  {
    id: 1,
    img: "https://i.imgur.com/7Wf4YIz.png", // æš«æ™‚ NPC åœ–
    title: "äººæ•¸åˆ¤å®š",
    desc: "æˆ‘å€‘æœ‰ 2 å€‹äººï¼Œå¯ä»¥å€Ÿç”¨è¨è«–å®¤å—ï¼Ÿ",
    choices: [
      {text: "å¯ä»¥", correct: false},
      {text: "ä¸è¡Œï¼Œéœ€è¦è‡³å°‘ 3 äºº", correct: true}
    ]
  },
  {
    id: 2,
    img: "https://i.imgur.com/7Wf4YIz.png",
    title: "æ™‚æ®µåˆ¤æ–·",
    desc: "æˆ‘æƒ³é ç´„ 13:00â€“15:00ï¼Œæœ‰ç©ºçš„è¨è«–å®¤å—ï¼Ÿ(è«‹æŸ¥çœ‹é ç´„è¡¨)",
    choices: [
      {text: "æœ‰ï¼Œé€™æ™‚æ®µæ˜¯ç©ºçš„", correct: true},
      {text: "æ²’æœ‰ï¼Œéƒ½æ»¿äº†", correct: false}
    ],
    showSchedule: true
  },
  {
    id: 3,
    img: "https://i.imgur.com/7Wf4YIz.png",
    title: "é²åˆ°å•é¡Œ",
    desc: "æˆ‘é ç´„ 10:00â€“12:00ï¼Œä½†æˆ‘ 10:30 æ‰åˆ°ï¼Œé‚„èƒ½ä½¿ç”¨å—ï¼Ÿ",
    choices: [
      {text: "å¯ä»¥ï¼Œåªè¦æ™‚æ®µå…§éƒ½èƒ½ä½¿ç”¨", correct: false},
      {text: "è¶…é 15 åˆ†é˜æœªå ±åˆ°æœƒå–æ¶ˆï¼Œä¸èƒ½ç”¨äº†", correct: true}
    ]
  },
  {
    id: 4,
    img: "https://i.imgur.com/7Wf4YIz.png",
    title: "é£²æ–™å•é¡Œ",
    desc: "æˆ‘å¯ä»¥æ‹¿é£²æ–™é€²å»è¨è«–å®¤å—ï¼Ÿ",
    choices: [
      {text: "å¯ä»¥", correct: false},
      {text: "ä¸è¡Œï¼Œè¨è«–å®¤ç¦æ­¢é£²é£Ÿ", correct: true}
    ]
  },
  {
    id: 5,
    img: "https://i.imgur.com/7Wf4YIz.png",
    title: "å€Ÿç”¨æ™‚é–“",
    desc: "è¨è«–å®¤ä¸€æ¬¡æœ€å¤šèƒ½å€Ÿç”¨å¤šä¹…å‘¢ï¼Ÿ",
    choices: [
      {text: "1 å°æ™‚", correct: false},
      {text: "2 å°æ™‚", correct: true}
    ]
  }
];

let remaining = [...questions]; // å°šæœªè§£æ±ºçš„ NPC

// ---------- 2ï¸âƒ£ ä¸»ç•«é¢ NPC ç”Ÿæˆï¼ˆå«éš¨æ©Ÿæ’åºï¼‰ ----------
function renderNPCs() {
  const area = document.getElementById("npcArea");
  area.innerHTML = "";

  // éš¨æ©Ÿæ’åº
  const shuffled = [...remaining].sort(() => Math.random() - 0.5);

  shuffled.forEach(q => {
    let npc = document.createElement("img");
    npc.src = q.img;
    npc.className = "npc";
    npc.onclick = () => openQuestion(q.id);
    area.appendChild(npc);
  });
}

renderNPCs();


// ---------- 3ï¸âƒ£ é¡¯ç¤ºé¡Œç›® ----------
function openQuestion(id) {
  const q = remaining.find(x => x.id === id);
  if (!q) return;

  document.getElementById("npcArea").style.display = "none";

  const box = document.getElementById("questionBox");
  box.style.display = "block";

  document.getElementById("qTitle").innerText = q.title;
  document.getElementById("qDesc").innerText = q.desc;

  // é¡¯ç¤ºæˆ–éš±è—é ç´„è¡¨
  document.getElementById("scheduleImg").style.display =
    q.showSchedule ? "block" : "none";

  let choiceBox = document.getElementById("choices");
  choiceBox.innerHTML = "";

  q.choices.forEach(c => {
    let btn = document.createElement("button");
    btn.className = "choice-btn";
    btn.innerText = c.text;
    btn.onclick = () => checkAnswer(id, c.correct);
    choiceBox.appendChild(btn);
  });
}


// ---------- 4ï¸âƒ£ é¸é …åˆ¤å®š ----------
function checkAnswer(id, isCorrect) {
  alert(isCorrect ? "âœ” ç­”å°äº†ï¼" : "âœ˜ å†æƒ³æƒ³ï½");

  if (isCorrect) {
    // åˆªé™¤è©² NPC
    remaining = remaining.filter(x => x.id !== id);
  }

  // å›ä¸»ç•«é¢
  backToMain();
}


// ---------- 5ï¸âƒ£ å›åˆ°ä¸»ç•«é¢ ----------
function backToMain() {
  document.getElementById("questionBox").style.display = "none";
  document.getElementById("npcArea").style.display = "flex";
  renderNPCs();
}
</script>

</body>
</html>
